<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="rirods">
<title>rirods vs iCommands • rirods</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="rirods vs iCommands">
<meta property="og:description" content="rirods">
<meta property="og:image" content="https://irods.github.io/irods_client_library_rirods/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rirods</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/demo.html">Use iRODS demo</a>
    <a class="dropdown-item" href="../articles/develop.html">Developing rirods</a>
    <a class="dropdown-item" href="../articles/icommands.html">rirods vs iCommands</a>
    <a class="dropdown-item" href="../articles/local-irods.html">Accessing data locally and in iRODS</a>
    <a class="dropdown-item" href="../articles/metadata.html">Use iRODS metadata</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <a class="external-link dropdown-item" href="https://fairelabs.github.io/iRODS4R/posts/rirods-0-2-0/">Version 0.2.0</a>
    <a class="external-link dropdown-item" href="https://fairelabs.github.io/iRODS4R/posts/rirods-0-1-1/">Version 0.1.1</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/irods/irods_client_library_rirods/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>rirods vs iCommands</h1>
                        <h4 data-toc-skip class="author">Mariana
Montes</h4>
            
            <h4 data-toc-skip class="date">2024-03-16</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/irods/irods_client_library_rirods/blob/HEAD/vignettes/icommands.Rmd" class="external-link"><code>vignettes/icommands.Rmd</code></a></small>
      <div class="d-none name"><code>icommands.Rmd</code></div>
    </div>

    
    
<p>This article is meant for iRODS users familiar with iCommands, the
command-line interface to iRODS. While <a href="https://github.com/irods/irods_client_library_rirods" class="external-link">rirods</a> functions
are based on iCommands, not all iCommands are covered and some
functionality may differ. The article also compares the bash calls to
the R calls in case the reader is not so familiar with R syntax.</p>
<p>The table below lists the main functions available in
<a href="https://github.com/irods/irods_client_library_rirods" class="external-link">rirods</a> and their counterparts in iCommands.</p>
<table class="table">
<thead><tr class="header">
<th><a href="https://github.com/irods/irods_client_library_rirods" class="external-link">rirods</a></th>
<th><code>iCommands</code></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code><a href="../reference/icd.html">icd()</a></code></td>
<td><code>icd</code></td>
</tr>
<tr class="even">
<td><code><a href="../reference/icd.html">ipwd()</a></code></td>
<td><code>ipwd</code></td>
</tr>
<tr class="odd">
<td><code><a href="../reference/ils.html">ils()</a></code></td>
<td><code>ils</code></td>
</tr>
<tr class="even">
<td>
<code><a href="../reference/iget.html">iget()</a></code>, <code><a href="../reference/iget.html">ireadRDS()</a></code>
</td>
<td><code>iget</code></td>
</tr>
<tr class="odd">
<td>
<code><a href="../reference/iput.html">iput()</a></code>, <code><a href="../reference/iput.html">isaveRDS()</a></code>
</td>
<td><code>iput</code></td>
</tr>
<tr class="even">
<td><code><a href="../reference/imeta.html">imeta()</a></code></td>
<td><code>imeta</code></td>
</tr>
<tr class="odd">
<td><code><a href="../reference/iquery.html">iquery()</a></code></td>
<td><code>iquest</code></td>
</tr>
<tr class="even">
<td><code><a href="../reference/imkdir.html">imkdir()</a></code></td>
<td><code>imkdir</code></td>
</tr>
<tr class="odd">
<td><code><a href="../reference/irm.html">irm()</a></code></td>
<td><code>irm</code></td>
</tr>
</tbody>
</table>
<p>A general note is that in iCommands the <code>-h</code> argument
provides the documentation for a certain command
(e.g. <code>icd -h</code>), whereas in R this is achieved by preceding
the name of the function with <code>?</code> (e.g. <code><a href="../reference/icd.html">?icd</a></code>).
Moreover, the <code>verbose</code> boolean argument in most of
<a href="https://github.com/irods/irods_client_library_rirods" class="external-link">rirods</a> commands is used to print information about the
HTTP request and response (and is by default <code>FALSE</code>), which
is not a behaviour relevant to iCommands.</p>
<div class="section level2">
<h2 id="working-directory-and-collections">Working directory and collections<a class="anchor" aria-label="anchor" href="#working-directory-and-collections"></a>
</h2>
<p>The iCommand <code>ipwd</code> and its <a href="https://github.com/irods/irods_client_library_rirods" class="external-link">rirods</a>
counterpart <code><a href="../reference/icd.html">ipwd()</a></code> work exactly the same, providing the
path to the current working directory. The case of <code><a href="../reference/icd.html">icd()</a></code> is
different; unlike <code>icd</code>, which returns the “/zone/home”
directory if no argument is provided, <code><a href="../reference/icd.html">icd()</a></code> needs an
argument with the path for a new working directory.
<code>icd("/tempZone/home")</code> will take us to
<code>"/tempZone/home"</code> like <code>icd</code> might, but
<code><a href="../reference/icd.html">icd()</a></code> with no arguments will throw an error.</p>
<p>When it comes to listing the contents of a collection, both
<code>ils</code> and <code><a href="../reference/ils.html">ils()</a></code> can be given a path, and if they
are not, they list the contents of the working directory. Permissions
can be shown by <code>ils</code> with the <code>-A</code> argument and
by <code><a href="../reference/ils.html">ils()</a></code> by providing <code>permissions=TRUE</code>,
although the latter does not return information about inheritance<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;At the moment there is no functionality in
&lt;a href="https://github.com/irods/irods_client_library_rirods" class="external-link"&gt;rirods&lt;/a&gt; to set permissions.&lt;/p&gt;'><sup>1</sup></a>. The time
that the item was last modified and the size of data objects is shown by
<code>ils -l</code> and by <code>ils(stats=TRUE)</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ils.html">ils</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># ils</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt; iRODS Zone</span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt;                         logical_path</span></span>
<span><span class="co">#&gt;  /tempZone/home/rods/some_collection</span></span>
<span><span class="co">#&gt;   /tempZone/home/rods/200numbers.rds</span></span>
<span><span class="fu"><a href="../reference/ils.html">ils</a></span><span class="op">(</span><span class="st">"some_collection"</span><span class="op">)</span> <span class="co"># ils some_collection</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt; iRODS Zone</span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt;                                            logical_path</span></span>
<span><span class="co">#&gt;       /tempZone/home/rods/some_collection/subcollection</span></span>
<span><span class="co">#&gt;  /tempZone/home/rods/some_collection/random_numbers.rds</span></span>
<span><span class="fu"><a href="../reference/ils.html">ils</a></span><span class="op">(</span><span class="st">"some_collection"</span>, stat <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># ils -l some_collection</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt; iRODS Zone</span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt;                                            logical_path inheritance_enabled</span></span>
<span><span class="co">#&gt;       /tempZone/home/rods/some_collection/subcollection               FALSE</span></span>
<span><span class="co">#&gt;  /tempZone/home/rods/some_collection/random_numbers.rds                &lt;NA&gt;</span></span>
<span><span class="co">#&gt;  status_code modified_at permissions.name permissions.perm permissions.type</span></span>
<span><span class="co">#&gt;            0  1710617057             rods              own        rodsadmin</span></span>
<span><span class="co">#&gt;            0  1710617057             rods              own        rodsadmin</span></span>
<span><span class="co">#&gt;  permissions.zone registered        type checksum size</span></span>
<span><span class="co">#&gt;          tempZone       TRUE  collection     &lt;NA&gt; &lt;NA&gt;</span></span>
<span><span class="co">#&gt;          tempZone       TRUE data_object           832</span></span>
<span><span class="fu"><a href="../reference/ils.html">ils</a></span><span class="op">(</span><span class="st">"some_collection"</span>, permissions <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># ils -A some_collection</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt; iRODS Zone</span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt;                                            logical_path</span></span>
<span><span class="co">#&gt;       /tempZone/home/rods/some_collection/subcollection</span></span>
<span><span class="co">#&gt;  /tempZone/home/rods/some_collection/random_numbers.rds</span></span>
<span><span class="fu"><a href="../reference/ils.html">ils</a></span><span class="op">(</span>permissions<span class="op">=</span><span class="cn">TRUE</span>, stat <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># ils -Al</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt; iRODS Zone</span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt;                         logical_path inheritance_enabled status_code</span></span>
<span><span class="co">#&gt;  /tempZone/home/rods/some_collection               FALSE           0</span></span>
<span><span class="co">#&gt;   /tempZone/home/rods/200numbers.rds                &lt;NA&gt;           0</span></span>
<span><span class="co">#&gt;  modified_at permissions.name permissions.perm permissions.type</span></span>
<span><span class="co">#&gt;   1710617057             rods              own        rodsadmin</span></span>
<span><span class="co">#&gt;   1710617058             rods              own        rodsadmin</span></span>
<span><span class="co">#&gt;  permissions.zone registered        type checksum size</span></span>
<span><span class="co">#&gt;          tempZone       TRUE  collection     &lt;NA&gt; &lt;NA&gt;</span></span>
<span><span class="co">#&gt;          tempZone       TRUE data_object          1632</span></span></code></pre></div>
<p>A crucial difference between <code>ils</code> and <code><a href="../reference/ils.html">ils()</a></code>
is that <code>ils(metadata=TRUE)</code> is used to print the metadata
information of each element listed, whereas iCommands only provides
metadata information of one element at a time by calling
<code>imeta ls</code> on it. At the moment, <a href="https://github.com/irods/irods_client_library_rirods" class="external-link">rirods</a> does
not offer any fast way of restricting the metadata to a specific item,
although the custom function <code>filter_ils()</code> shown below could
be used to achieve this result.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">filter_ils</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">pattern</span>, <span class="va">ils_output</span> <span class="op">=</span> <span class="fu"><a href="../reference/ils.html">ils</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">inherits</a></span><span class="op">(</span><span class="va">ils_output</span>, <span class="st">"irods_df"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">ils_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">ils_output</span><span class="op">)</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">pattern</span><span class="op">)</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">filtered</span> <span class="op">&lt;-</span> <span class="va">ils_df</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="va">pattern</span>, <span class="va">ils_df</span><span class="op">$</span><span class="va">logical_path</span><span class="op">)</span>, <span class="op">]</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="va">filtered</span> <span class="op">&lt;-</span> <span class="va">ils_df</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/basename.html" class="external-link">basename</a></span><span class="op">(</span><span class="va">ils_df</span><span class="op">$</span><span class="va">logical_path</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">pattern</span>, <span class="op">]</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="fu">rirods</span><span class="fu">:::</span><span class="fu">new_irods_df</span><span class="op">(</span><span class="va">filtered</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_files</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ils.html">ils</a></span><span class="op">(</span><span class="st">"some_collection"</span>, metadata <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">my_files</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt; iRODS Zone</span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt;                                            logical_path    attribute  value</span></span>
<span><span class="co">#&gt;  /tempZone/home/rods/some_collection/random_numbers.rds distribution normal</span></span>
<span><span class="co">#&gt;                                                               length    100</span></span>
<span><span class="co">#&gt;       /tempZone/home/rods/some_collection/subcollection         &lt;NA&gt;   &lt;NA&gt;</span></span>
<span><span class="co">#&gt;  units</span></span>
<span><span class="co">#&gt;       </span></span>
<span><span class="co">#&gt;       </span></span>
<span><span class="co">#&gt;   &lt;NA&gt;</span></span>
<span><span class="fu">filter_ils</span><span class="op">(</span><span class="st">"random"</span>, <span class="va">my_files</span><span class="op">)</span> <span class="co"># imeta ls -d some_collection/random_numbers.rds</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt; iRODS Zone</span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt;                                            logical_path    attribute  value</span></span>
<span><span class="co">#&gt;  /tempZone/home/rods/some_collection/random_numbers.rds distribution normal</span></span>
<span><span class="co">#&gt;                                                               length    100</span></span>
<span><span class="co">#&gt;  units</span></span>
<span><span class="co">#&gt;       </span></span>
<span><span class="co">#&gt; </span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="creating-and-deleting-collections-or-data-objects">Creating and deleting collections or data objects<a class="anchor" aria-label="anchor" href="#creating-and-deleting-collections-or-data-objects"></a>
</h2>
<p>With iCommands we can create new collections and data objects with
<code>imkdir</code> and <code>itouch</code> respectively. The former is
matched in <a href="https://github.com/irods/irods_client_library_rirods" class="external-link">rirods</a> by <code><a href="../reference/imkdir.html">imkdir()</a></code>, but the
latter is not covered by the R package yet.</p>
<p>Both in iCommands and in <a href="https://github.com/irods/irods_client_library_rirods" class="external-link">rirods</a>, <code><a href="../reference/imkdir.html">imkdir()</a></code>
requires a path and has an argument to request creating the parent
collections:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/imkdir.html">imkdir</a></span><span class="op">(</span><span class="st">"new_collection"</span><span class="op">)</span> <span class="co"># imkdir new_collection</span></span>
<span><span class="fu"><a href="../reference/ils.html">ils</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt; iRODS Zone</span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt;                         logical_path</span></span>
<span><span class="co">#&gt;   /tempZone/home/rods/new_collection</span></span>
<span><span class="co">#&gt;  /tempZone/home/rods/some_collection</span></span>
<span><span class="co">#&gt;   /tempZone/home/rods/200numbers.rds</span></span>
<span></span>
<span><span class="co"># imkdir -p another_collection/subcollection</span></span>
<span><span class="fu"><a href="../reference/imkdir.html">imkdir</a></span><span class="op">(</span><span class="st">"another_collection/subcollection"</span>, create_parent_collections <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/ils.html">ils</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt; iRODS Zone</span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt;                            logical_path</span></span>
<span><span class="co">#&gt;  /tempZone/home/rods/another_collection</span></span>
<span><span class="co">#&gt;      /tempZone/home/rods/new_collection</span></span>
<span><span class="co">#&gt;     /tempZone/home/rods/some_collection</span></span>
<span><span class="co">#&gt;      /tempZone/home/rods/200numbers.rds</span></span>
<span><span class="fu"><a href="../reference/ils.html">ils</a></span><span class="op">(</span><span class="st">"another_collection"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt; iRODS Zone</span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt;                                          logical_path</span></span>
<span><span class="co">#&gt;  /tempZone/home/rods/another_collection/subcollection</span></span></code></pre></div>
<p>Removing data objects and collections can be achieved by
<code>irm</code> in iCommands and <code><a href="../reference/irm.html">irm()</a></code> in
<a href="https://github.com/irods/irods_client_library_rirods" class="external-link">rirods</a>, and both functions have a <code>force</code> and
<code>recursive</code> arguments:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/irm.html">irm</a></span><span class="op">(</span><span class="st">"200numbers.rds"</span>, force <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="co"># irm 200numbers.rds</span></span>
<span><span class="fu"><a href="../reference/ils.html">ils</a></span><span class="op">(</span><span class="st">"/tempZone/trash/home/rods"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt; iRODS Zone</span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt;                              logical_path</span></span>
<span><span class="co">#&gt;  /tempZone/trash/home/rods/200numbers.rds</span></span>
<span></span>
<span><span class="fu"><a href="../reference/irm.html">irm</a></span><span class="op">(</span><span class="st">"another_collection"</span>, force <span class="op">=</span> <span class="cn">TRUE</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># irm -rf another_collection</span></span>
<span><span class="fu"><a href="../reference/iquery.html">iquery</a></span><span class="op">(</span><span class="st">"SELECT COLL_NAME WHERE COLL_NAME LIKE '%_collection'"</span><span class="op">)</span></span>
<span><span class="co">#&gt;                                           COLL_NAME</span></span>
<span><span class="co">#&gt; 1                /tempZone/home/rods/new_collection</span></span>
<span><span class="co">#&gt; 2               /tempZone/home/rods/some_collection</span></span>
<span><span class="co">#&gt; 3 /tempZone/home/rods/some_collection/subcollection</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="getting-and-putting-data">Getting and putting data<a class="anchor" aria-label="anchor" href="#getting-and-putting-data"></a>
</h2>
<p>In order to transfer data between a local system and iRODS, the main
iCommands are <code>iput</code> and <code>iget</code>, which have
<code><a href="../reference/iput.html">iput()</a></code> and <code><a href="../reference/iget.html">iget()</a></code> as <a href="https://github.com/irods/irods_client_library_rirods" class="external-link">rirods</a>
counterparts. The <a href="https://github.com/irods/irods_client_library_rirods" class="external-link">rirods</a> functions are much more
restricted in that they don’t really offer the variety of arguments that
the iCommands do, but only options related to the HTTP requests.
Moreover, they require the user to provide both the local and logical
paths explicitly, whereas the iCommands reuse the source path by
default. In other words, while <code>iput myfile.txt</code> will take a
local file “myfile.txt” and store it in the iRODS working directory as
“myfile.txt”, <code>iput("myfile.txt")</code> will throw an error;
<code>iput("myfile.txt", "myfile.txt")</code> is the correct syntax to
achieve the desired effect:</p>
<table class="table">
<colgroup>
<col width="25%">
<col width="25%">
<col width="50%">
</colgroup>
<thead><tr class="header">
<th><a href="https://github.com/irods/irods_client_library_rirods" class="external-link">rirods</a></th>
<th><code>iCommands</code></th>
<th>Result</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>iget("myfile.txt", "myfile.txt")</code></td>
<td><code>iget myfile.txt</code></td>
<td>“myfile.txt” is copied from iRODS to local as “myfile.txt”</td>
</tr>
<tr class="even">
<td><code>iget("myfile.txt", "another_path/filename.txt")</code></td>
<td><code>iget myfile.txt another_path/filename.txt</code></td>
<td>“myfile.txt” is copied from iRODS to local as “filename.txt” in
“another_path”</td>
</tr>
<tr class="odd">
<td><code>iput("data.csv", "data.csv")</code></td>
<td><code>iput data.csv</code></td>
<td>“data.csv” is copied from local to iRODS as “data.csv”</td>
</tr>
<tr class="even">
<td><code>iput("data.csv", "data2.csv")</code></td>
<td><code>iput data.csv data2.csv</code></td>
<td>“data.csv” is copied from local to iRODS as “data2.csv”</td>
</tr>
</tbody>
</table>
<p>Next to these functions, <a href="https://github.com/irods/irods_client_library_rirods" class="external-link">rirods</a> provides two functions
to store R objects directly into iRODS or read RDS files directly from
iRODS: <code><a href="../reference/iput.html">isaveRDS()</a></code> and <code><a href="../reference/iget.html">ireadRDS()</a></code>. There is no
counterpart in iCommands. To achieve the same effect as
<code><a href="../reference/iput.html">isaveRDS()</a></code>, a user would first have to save their object
with <code><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS()</a></code>, then send it to iRODS with
<code>iput</code> and finally remove it with <code>irm -f</code>; in the
same vein, the effect of <code><a href="../reference/iget.html">ireadRDS()</a></code> would be achieved by
retrieving the file with <code>iget</code>, reading it with
<code><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS()</a></code> and then removing it from the local space. Read
more about this in <code><a href="../articles/local-irods.html">vignette("local-irods")</a></code>.</p>
</div>
<div class="section level2">
<h2 id="metadata-and-querying">Metadata and querying<a class="anchor" aria-label="anchor" href="#metadata-and-querying"></a>
</h2>
<p>The <a href="https://github.com/irods/irods_client_library_rirods" class="external-link">rirods</a> <code><a href="../reference/imeta.html">imeta()</a></code> function covers two of
the main functionalities of the <code>imeta</code> iCommand: adding and
removing metadata from a data object or collection. This function has
three main arguments: the logical path of the data object or collection
on which to add the metadata, the entity type (e.g. “data_object”, the
default, or “collection”) and a list of operations, in which it is
specified whether a certain AVU should be added or removed.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/icd.html">icd</a></span><span class="op">(</span><span class="st">"some_collection"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ils.html">ils</a></span><span class="op">(</span>metadata<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt; iRODS Zone</span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt;                                            logical_path    attribute  value</span></span>
<span><span class="co">#&gt;  /tempZone/home/rods/some_collection/random_numbers.rds distribution normal</span></span>
<span><span class="co">#&gt;                                                               length    100</span></span>
<span><span class="co">#&gt;       /tempZone/home/rods/some_collection/subcollection         &lt;NA&gt;   &lt;NA&gt;</span></span>
<span><span class="co">#&gt;  units</span></span>
<span><span class="co">#&gt;       </span></span>
<span><span class="co">#&gt;       </span></span>
<span><span class="co">#&gt;   &lt;NA&gt;</span></span>
<span></span>
<span><span class="co"># imeta add -C subcollection foo bar baz</span></span>
<span><span class="fu"><a href="../reference/imeta.html">imeta</a></span><span class="op">(</span><span class="st">"subcollection"</span>,</span>
<span>      operations <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>operation<span class="op">=</span><span class="st">"add"</span>, attribute<span class="op">=</span><span class="st">"foo"</span>, value<span class="op">=</span><span class="st">"bar"</span>, units<span class="op">=</span><span class="st">"baz"</span><span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span></span>
<span><span class="co"># imeta rm -d random_numbers.rds distribution normal</span></span>
<span><span class="fu"><a href="../reference/imeta.html">imeta</a></span><span class="op">(</span><span class="st">"random_numbers.rds"</span>,</span>
<span>      operations <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>operation<span class="op">=</span><span class="st">"remove"</span>, attribute<span class="op">=</span><span class="st">"distribution"</span>, value<span class="op">=</span><span class="st">"normal"</span><span class="op">)</span></span>
<span>      <span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/ils.html">ils</a></span><span class="op">(</span>metadata<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt; iRODS Zone</span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt;                                            logical_path attribute value units</span></span>
<span><span class="co">#&gt;  /tempZone/home/rods/some_collection/random_numbers.rds       foo   bar   baz</span></span>
<span><span class="co">#&gt;       /tempZone/home/rods/some_collection/subcollection       foo   bar   baz</span></span></code></pre></div>
<p>In order to “modify” an AVU with <a href="https://github.com/irods/irods_client_library_rirods" class="external-link">rirods</a>, we would have
to remove it and add its replacement. This also illustrates how we can
add/remove several AVUs in one <code><a href="../reference/imeta.html">imeta()</a></code> call, which would
not be possible with <code>imeta</code><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;This is similar to the behavior of atomic operations in
the Python client.&lt;/p&gt;"><sup>2</sup></a>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># imeta mod -d random_numbers.rds length 100 items u:elements</span></span>
<span><span class="fu"><a href="../reference/imeta.html">imeta</a></span><span class="op">(</span><span class="st">"random_numbers.rds"</span>,</span>
<span>      operations <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>operation<span class="op">=</span><span class="st">"remove"</span>, attribute<span class="op">=</span><span class="st">"length"</span>, value<span class="op">=</span><span class="st">"100"</span>, units<span class="op">=</span><span class="st">"items"</span><span class="op">)</span>,</span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>operation<span class="op">=</span><span class="st">"add"</span>, attribute<span class="op">=</span><span class="st">"length"</span>, value<span class="op">=</span><span class="st">"100"</span>, units<span class="op">=</span><span class="st">"elements"</span><span class="op">)</span></span>
<span>      <span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ils.html">ils</a></span><span class="op">(</span>metadata<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt; iRODS Zone</span></span>
<span><span class="co">#&gt; ==========</span></span>
<span><span class="co">#&gt;                                            logical_path attribute value units</span></span>
<span><span class="co">#&gt;  /tempZone/home/rods/some_collection/random_numbers.rds       foo   bar   baz</span></span>
<span><span class="co">#&gt;       /tempZone/home/rods/some_collection/subcollection       foo   bar   baz</span></span></code></pre></div>
<p>As mentioned before, whereas the iCommand <code>imeta ls</code> is
used to list the metadata of an item, <code>ils(metadata=TRUE)</code> is
used in <a href="https://github.com/irods/irods_client_library_rirods" class="external-link">rirods</a> instead.</p>
<p>Finally, the <a href="https://github.com/irods/irods_client_library_rirods" class="external-link">rirods</a> equivalent of iCommand
<code>iquest</code> is <code><a href="../reference/iquery.html">iquery()</a></code>, with the same GenQuery
expression as main argument and a few compatible arguments. Given a
<code>query</code> variable such as “SELECT DATA_NAME, DATA_CHECKSUM
WHERE COLL_NAME LIKE ‘/tempZone/home/rods%’”:</p>
<table class="table">
<thead><tr class="header">
<th><a href="https://github.com/irods/irods_client_library_rirods" class="external-link">rirods</a></th>
<th><code>iCommands</code></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>iquery(query)</code></td>
<td><code>iquest "$query"</code></td>
</tr>
<tr class="even">
<td><code>iquery(query, case_sensitive = FALSE)</code></td>
<td><code>iquest uppercase "$query"</code></td>
</tr>
<tr class="odd">
<td><code>iquery(query, distinct = FALSE)</code></td>
<td><code>iquest no-distinct "$query"</code></td>
</tr>
</tbody>
</table>
<p>To learn more about <code><a href="../reference/imeta.html">imeta()</a></code> and <code><a href="../reference/iquery.html">iquery()</a></code>,
see <code><a href="../articles/metadata.html">vignette("metadata")</a></code>.</p>
</div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Martin Schobben, Mariana Montes.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
